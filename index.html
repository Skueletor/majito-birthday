<!DOCTYPE html>
<!-- improved: added no-js class for progressive enhancement, preload bg image, tiny inline script to swap to js class early without layout changes -->
<html lang="es" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Majito's Birthday ğŸ‰</title>

    <!-- Performance & SEO meta tags -->
    <meta name="description" content="Celebra los 24 aÃ±os de Majito - Una tarde con comida, traguitos y risas. 16 de noviembre, 2:30 p.m. Â¡No te lo pierdas! ğŸ‰" />
    <meta name="theme-color" content="#ffe7ef" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Majito's Birthday" />
    
    <!-- Preconnect to external resources for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://db.onlinewebfonts.com" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link rel="preconnect" href="https://unpkg.com" />
    
  <!-- Preload critical font -->
    <link rel="preload" href="assets/fonts/Railey-PersonalUse.woff2" as="font" type="font/woff2" crossorigin />
  <!-- Preload repeating background image for faster first paint -->
  <link rel="preload" href="assets/bg.png" as="image" />
    
    <!-- Fonts - optimized loading -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Raleway:wght@300;500;700&family=Dancing+Script:wght@600;700&display=swap" rel="stylesheet" />
    <link href="https://db.onlinewebfonts.com/t/9c080e9c6cab37228b6efdfd9fb6e2f9.woff2" rel="stylesheet" />

  <!-- Critical CSS (kept same path) -->
  <link rel="stylesheet" href="./styles.css" />
    
    <!-- Leaflet CSS - deferred for non-critical map -->
    <link rel="preload" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" /></noscript>
    <!-- Inline early script: swap no-js -> js class ASAP (micro, no render blocking) -->
    <script>document.documentElement.className=document.documentElement.className.replace('no-js','js');</script>
  </head>
  <body>
    <div id="app">
      <!-- HERO -->
      <header class="section hero" id="inicio">
        <div class="hero__bg">
          <div class="blob blob--tl" aria-hidden="true"></div>
          <div class="blob blob--tr" aria-hidden="true"></div>
          <div class="blob blob--bl" aria-hidden="true"></div>
          <div class="blob blob--br" aria-hidden="true"></div>
        </div>

        <div class="container hero__content">
          <p class="overtitle">Mis 24 aÃ±os</p>
          <h1 class="title">
            Majito<br />
            <span>Birthday party</span>
          </h1>
          <p class="subtitle">Una tarde con comida, traguitos y risas âœ¨</p>
          <a href="#rsvp" class="btn btn--primary">Deslizar hacia abajo</a>
        </div>
      </header>

      <!-- STORY / MESSAGE (pinned) -->
      <section class="section panel panel--blush" id="mensaje">
        <div class="container message">
          <h2 class="message__title">Te tengo una sorpresa...</h2>
          <p class="message__line" data-order="1">EstÃ¡s invitado a una tarde con comida, traguitos y grandes momentos.</p>
          <p class="message__line" data-order="2">Â¿Te la vas a perder? ğŸ˜‰</p>
          <p class="message__line" data-order="3">Desliza para ver los detalles.</p>
        </div>
      </section>

      <!-- DETAILS -->
      <section class="section panel panel--cream" id="detalles">
        <div class="container grid details">
          <div class="card">
            <h3>Â¿CuÃ¡ndo?</h3>
            <p>
              <strong>16 de noviembre</strong><br/>
              <span class="time-highlight">â° 2:30 p.m.</span>
              <small class="time-note">Â¡No llegues tarde que se prende desde temprano! ğŸ”¥</small>
            </p>
          </div>
          <div class="card">
            <h3>Â¿QuÃ© llevar?</h3>
            <p>
              <strong>La mejor actitud</strong><br/>
              Y si no te gusta el vodka llevÃ¡ algÃºn drink de tu preferencia ğŸ«¶ğŸ¼
              <br /><strong>OJO</strong><br />
              No olvides compartirğŸ˜œ
            </p>
          </div>
          <div class="card highlight">
            <h3>Dress Code</h3>
            <p>
              <strong>Girls</strong> â€” Coquette White ğŸ¤âœ¨<br />
              <strong>Hombres</strong> â€” White Top + Denim/Beige
            </p>
          </div>
        </div>
      </section>

      <!-- MAPA (Leaflet) - Lazy-loaded -->
      <section class="section panel panel--cream" id="ubicacion">
        <div class="container">
          <h2 class="message__title" style="text-align:center; margin-bottom:1rem">UbicaciÃ³n</h2>
          <div
            class="map-wrap"
            id="mapWrap"
            data-gmaps-url="https://www.google.com/maps/search/?api=1&query=-17.863172281338997,-63.2262592306885"
            data-address="Calle 25 de Julio, casa #12"
            data-lat="-17.863172281338997"
            data-lng="-63.2262592306885"
          ></div>
          <div class="map-actions">
            <a class="btn" id="openGmaps" target="_blank" rel="noreferrer noopener" href="https://www.google.com/maps/search/?api=1&query=-17.863172281338997,-63.2262592306885">Abrir en Google Maps</a>
          </div>
        </div>
      </section>

      <!-- RSVP CTA -->
      <section class="section panel panel--rose" id="rsvp">
        <div class="container rsvp">
          <h2 class="rsvp__title">Â¿Vienes?</h2>
          <p class="rsvp__text">Toca el botÃ³n para confirmar tu asistencia.</p>
          <div class="cta">
            <a class="btn btn--primary btn--lg" target="_blank" rel="noopener" href="https://wa.link/ccwp4a">Confirmar por WhatsApp</a>
          </div>
          <div class="gift">
            <button class="link-like" id="giftOpen">Si no sabes quÃ© llevar de regalo, dale click aquÃ­</button>
          </div>
        </div>
      </section>

      <footer class="footer">
        <div class="container">
          <span class="muted">Made with â¤ï¸ by Juanito</span>
        </div>
      </footer>
    </div>

    <!-- Gift Modal -->
    <div class="modal" id="giftModal" aria-hidden="true" role="dialog" aria-modal="false">
      <div class="modal__backdrop" data-close></div>
      <div class="modal__content" role="document">
        <button class="modal__close-x" type="button" aria-label="Cerrar" title="Cerrar">&times;</button>
        <img id="giftImg" src="" alt="QR de pago" loading="lazy" width="300" height="300" />
        <div class="modal__message">Para que no te estreses pensando quÃ© regalar, te dejo mi QR ğŸ</div>
        <div class="modal__actions">
          <button class="btn" id="giftDownload">Descargar QR</button>
          <button class="btn" id="giftClose" data-close>Cerrar</button>
        </div>
      </div>
    </div>

    <!-- Libraries - Deferred loading for better performance -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@latest/dist/lenis.min.js"></script>
    <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>

    <!-- App script - Optimized -->
    <script defer src="./script.js"></script>
  </body>
</html>
